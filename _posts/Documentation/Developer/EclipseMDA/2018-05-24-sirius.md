---
layout: post
title: Eclipse Sirius
description: Sirius is an Eclipse project which allows you to easily create your own graphical modeling workbench by leveraging the Eclipse Modeling technologies, including EMF and GMF.It provides a generic workbench for model-based architecture engineering that could be easily tailored to fit specific needs.Based on a viewpoint approach, Sirius makes it possible to equip teams who have to deal with complex architectures on specific domains.
date: 2021-05-24 14:43:17.000000000 +08:00
type: post
img: /imgs/986002-atm.jpg
categories: [EclipseMDA]
---

# BasicFamily Tutorial

This tutorial explains how to use Eclipse Sirius to create graphical editors for visually describing a family.

**##①使用EcoreTools创建BasicFamily元模型**（右键创建的项目设置运行配置）

![image-20210203125130793](assets/image-20210203125130793-16316878013161-16316890338671.png)

②**运行建立好的**BasicFamily元模型，创建实例验证元模型

![image-20210203141257288](assets/image-20210203141257288-16316890338682.png)

***tips***上图的图标改变是在建立BasicFamily时改变的，操作如下

![image-20210203141452769](assets/image-20210203141452769-16316890338683.png)

③创建 Viewpoint Specification 项目

![image-20210203141634190](assets/image-20210203141634190-16316890338684.png)

④双击viewpoint设置视点属性，如下

![image-20210203150352352](assets/image-20210203150352352-16316890338685.png)

![image-20210203150720154](assets/image-20210203150720154-16316890338686.png)

⑤打开项目的*MANIFEST.MF*文件，然后在“*必需插件*”列表添加定义元模型的插件

![image-20210203151116118](assets/image-20210203151116118-16316890338687.png)

⑥在视点中添加图，并且关联定义此图使用的类型的*元模型*（定义图的属性） 如下

![image-20210203151639533](assets/image-20210203151639533-16316884911474-16316890338688.png)

![image-20210203151943473](assets/image-20210203151943473-16316884890913-16316890338689.png)

![image-20210203152344296](assets/image-20210203152344296-16316884874272-163168903386810.png)

⑦在图中添加节点并设置属性

![image-20210203152421396](assets/image-20210203152421396-163168903386811.png)

![image-20210203152727566](assets/image-20210203152727566-163168903386812.png)

⑧为节点设置样式

![image-20210203153335638](assets/image-20210203153335638-163168903386813.png)

![image-20210203153619356](assets/image-20210203153619356-163168903386814.png)

![image-20210203153658426](assets/image-20210203153658426-163168903386815.png)

![image-20210204151202568](assets/image-20210204151202568-163168903386816.png)

⑨测试自己定义的图

![image-20210203153905404](assets/image-20210203153905404-163168903386817.png)

![image-20210203153911741](assets/image-20210203153911741-163168903386818.png)

![image-20210203153921892](assets/image-20210203153921892-163168903386819.png)

![image-20210204150953663](assets/image-20210204150953663-163168903386820.png)

⑩改善节点样式

![image-20210204150857311](assets/image-20210204150857311-163168903386821.png)

![image-20210204151022387](assets/image-20210204151022387-163168903386822.png)

十一、添加基于关系的边

![image-20210204151241331](assets/image-20210204151241331-163168903386823.png)

![image-20210204151312620](assets/image-20210204151312620-163168903386824.png)

![image-20210204151405555](assets/image-20210204151405555-163168903386925.png)

![image-20210204151417097](assets/image-20210204151417097-163168903386926.png)

十二、在调色板中添加可以创建元素的工具

![image-20210204151551084](assets/image-20210204151551084-163168903386927.png)

![image-20210204151612828](assets/image-20210204151612828.png)

![image-20210204151759152](assets/image-20210204151759152-163168903386928.png)

十三、定义由“创建节点”工具执行的操作

![image-20210204151946139](assets/image-20210204151946139-163168903386930.png)

![image-20210204152020979](assets/image-20210204152020979-163168903386929.png)

![image-20210204152050396](assets/image-20210204152050396-163168903386931.png)

![image-20210204152118046](assets/image-20210204152118046-163168903386933.png)

![image-20210204152159117](assets/image-20210204152159117-163168903386932.png)

![image-20210204152236605](assets/image-20210204152236605-163168903386934.png)

效果如下

![image-20210204152316406](assets/image-20210204152316406-163168903386935.png)

十四、边线创建工具

![image-20210204161850940](assets/image-20210204161850940-163168903386936.png)

![image-20210204161911039](assets/image-20210204161911039-163168903386937.png)

然后定义每次用户单击该工具时将由该工具执行的操作。这些操作可以使用Sirius自动设置的四个变量：

- **source**：用户单击的第一个对象（他将创建的关系的源）
- **target**：用户单击的第二个对象（他将创建的关系的目标）
- **sourceView**：表示源的图形对象
- **targetView**：表示目标的图形对象

![image-20210204162124778](assets/image-20210204162124778-163168903386938.png)

![image-20210204162216315](assets/image-20210204162216315-163168903386939.png)

![image-20210204162305349](assets/image-20210204162305349-163168903386940.png)

![image-20210204162408811](assets/image-20210204162408811-163168903386941.png)

为了防止用户创建一个人与人或其子女之一的*父亲*关系，您可以添加前提条件表达式

![image-20210204162636291](assets/image-20210204162636291.png)

此表达式使用两个新变量：

- **preSource**：用户首先单击的对象
- **preTarget**：光标下的对象

十五、重新连接边线工具

![image-20210204162907508](assets/image-20210204162907508-163168903386942.png)

![image-20210204162937929](assets/image-20210204162937929-163168903386943.png)

该工具带有六个变量：

- **源**：当前附加到移动端的对象

- **target**：将要附加到移动端的对象

- **sourceView**：表示源的图形对象

- **targetView**：表示目标的图形对象

- **element**：连接到另一端的对象

- **elementView**：表示元素的图形对象

  ![image-20210204163136108](assets/image-20210204163136108-163168903386944.png)

十六、删除元素工具

![image-20210204163541871](assets/image-20210204163541871-163168903386945.png)

![image-20210204163554766](assets/image-20210204163554766-163168903386946.png)

![image-20210204163644119](assets/image-20210204163644119-163168903386948.png)

十七、直接编辑标签工具

![image-20210204210642271](assets/image-20210204210642271-163168903386947.png)

![image-20210204210658258](assets/image-20210204210658258-163168903386949.png)

![image-20210204210727964](assets/image-20210204210727964-163168903386950.png)

效果如下

![image-20210204211033848](assets/image-20210204211033848-163168903386951.png)

十八、风格定制

![image-20210204212453104](assets/image-20210204212453104-163168903386952.png)

![image-20210204212505794](assets/image-20210204212505794-163168903386953.png)

![image-20210204212604514](assets/image-20210204212604514-163168903386954.png)

十九、创建两个图层

![image-20210206154555138](assets/image-20210206154555138-163168903386955.png)

![image-20210206154628502](assets/image-20210206154628502-163168903387056.png)

![image-20210206154649158](assets/image-20210206154649158-163168903387057.png)

创建第二个*图层，* `Women`然后拖放与“*女人”*类型相关的所有元素。效果如下

![image-20210206154732990](assets/image-20210206154732990-163168903387058.png)

![image-20210206154747013](assets/image-20210206154747013-163168903387059.png)

二十、筛选器

![image-20210206170023215](assets/image-20210206170023215-163168903387060.png)

![image-20210206170040457](assets/image-20210206170040457-163168903387061.png)

![image-20210206170102123](assets/image-20210206170102123-163168903387062.png)

![image-20210206170202877](assets/image-20210206170202877-163168903387063.png)

二十一、验证规则

![image-20210206174323727](assets/image-20210206174323727-163168903387064.png)

![image-20210206174425045](assets/image-20210206174425045-163168903387065.png)

![image-20210206174530437](assets/image-20210206174530437-163168903387066.png)

![image-20210206174605013](assets/image-20210206174605013-163168903387067.png)

验证效果如下

![image-20210206174747226](assets/image-20210206174747226-163168903387068.png)

二十二、快速修复（可以向用户提供*修复程序*，以自动解决问题）

例如，上个问题，我们可以建议取消两个*父亲*关系之一。

![image-20210206175927362](assets/image-20210206175927362-163168903387069.png)

![image-20210206180019727](assets/image-20210206180019727-163168903387070.png)

效果如下

![image-20210206181004915](assets/image-20210206181004915-163168903387071.png)

![image-20210206181014905](assets/image-20210206181014905-163168903387072.png)

二十三、以对象为中心的图

![image-20210206190703680](assets/image-20210206190703680-163168903387073.png)

![image-20210206190718247](assets/image-20210206190718247-163168903387074.png)

![image-20210206190743797](assets/image-20210206190743797-163168903387075.png)

![image-20210206190808471](assets/image-20210206190808471-163168903387076.png)

二十四、容器

![image-20210206191239137](assets/image-20210206191239137-163168903387077.png)

<img src="assets/image-20210206191301132-163168903387078.png" alt="image-20210206191301132" />

![image-20210206191354214](assets/image-20210206191354214-163168903387079.png)

![image-20210206191410681](assets/image-20210206191410681-163168903387080.png)

![image-20210206191425590](assets/image-20210206191425590-163168903387081.png)

![image-20210206191443143](assets/image-20210206191443143-163168903387082.png)

二十五、子节点

![image-20210206191624318](assets/image-20210206191624318-163168903387084.png)

![image-20210206191645715](assets/image-20210206191645715-163168903387083.png)

![image-20210206191705941](assets/image-20210206191705941-163168903387085.png)

![image-20210206191842680](assets/image-20210206191842680-163168903387086.png)

![image-20210206192255147](assets/image-20210206192255147-163168903387087.png)

![image-20210206192327692](assets/image-20210206192327692-163168903387088.png)

二十六、边界节点

![image-20210206192506920](assets/image-20210206192506920-163168903387089.png)

![image-20210206192520236](assets/image-20210206192520236-163168903387090.png)

![image-20210206193100867](assets/image-20210206193100867-163168903387191.png)

二十七、容器之间的边线

![image-20210206193703685](assets/image-20210206193703685-163168903387192.png)

![image-20210206193734119](assets/image-20210206193734119-163168903387193.png)

![image-20210206193750201](assets/image-20210206193750201-163168903387194.png)

![image-20210206193819842](assets/image-20210206193819842-163168903387195.png)

二十八、Double Click

![image-20210206193907990](assets/image-20210206193907990-163168903387196.png)

![image-20210206193935595](assets/image-20210206193935595-163168903387197.png)

![image-20210206193955228](assets/image-20210206193955228-163168903387198.png)

![image-20210206194011085](assets/image-20210206194011085-163168903387199.png)

效果如下

![image-20210206195300282](assets/image-20210206195300282-1631689033871100.png)

![image-20210206195321991](assets/image-20210206195321991-1631689033871101.png)

二十九、表

![image-20210206195428111](assets/image-20210206195428111-1631689033871102.png)

![image-20210206195446444](assets/image-20210206195446444-1631689033871104.png)

![image-20210206195510094](assets/image-20210206195510094-1631689033871103.png)

![image-20210206195524801](assets/image-20210206195524801-1631689033871106.png)

![image-20210206200324025](assets/image-20210206200324025-1631689033871105.png)

![image-20210206200339688](assets/image-20210206200339688-1631689033871107.png)

![image-20210206200403891](assets/image-20210206200403891-1631689033871108.png)

![image-20210206200420716](assets/image-20210206200420716.png)
